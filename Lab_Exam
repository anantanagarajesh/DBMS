create database hostel_database;
use hostel_database;

create table student
(
sid int,
sname varchar(20),
saddress varchar(20),
gender varchar(4),
nationality varchar(5),
study varchar(20),
primary key(sid)
);

create table residency_office
(
sid int,
rid int,
rname varchar(20),
primary key(rid),
foreign key (sid) references student(sid)
);
drop table residency_office


create table hall
(
rid int,
hid int,
hname varchar(20),
mid int,
mname varchar(20),
haddress varchar(20),
primary key(hid),
foreign key (rid) references residency_office(rid)
);

create table apartment
(
rid int,
fno int,
fname varchar(20),
aadress varchar(20),
primary key(fno),
foreign key (rid) references residency_office(rid)
);

create table rooms
(
hid int,
rno int,
rplaceno int,
primary key(rplaceno),
foreign key(hid)references hall(hid)
);

create table dormitory
(
fno int,
dno int,
dbedno int,
dplaceno int,
primary key(dplaceno),
foreign key(fno)references apartment(fno)
);

create table staff
(
staffid int,
staffname varchar(20),
primary key(staffid)
);

create table invoice
(
iid int,
sid int,
sname varchar(20),
due int,
pdate date,
primary key(iid),
foreign key (sid) references student(sid)

);

create table inspect
(
staffid int,
hid int,
fno int,
foreign key (staffid) references staff(staffid),
foreign key (hid) references hall(hid),
foreign key (fno) references apartment (fno)
);

insert into student values(1,'Rajesh','bly','Boy','India','UG');
insert into student values(2,'Rakesh','bly','Boy','India','UG');
insert into student values(3,'Ramesh','bly','Boy','India','UG');
insert into student values(4,'Raveesh','bly','Boy','India','UG');
insert into student values(5,'Rashid','bly','Boy','India','UG');
insert into student values(6,'Raji','bly','Girl','India','UG');

insert into residency_office values(1,123,'expert');
insert into residency_office values(2,123,'expert');
insert into residency_office values(3,123,'expert');
insert into residency_office values(4,123,'expert');
insert into residency_office values(5,123,'expert');
insert into residency_office values(6,123,'expert');

insert into hall values (123,8,'Victoria',100,'ramesh');
insert into hall values (123,9,'amster',101,'rakesh');
insert into hall values (123,10,'nuty',102,'rameesh');
insert into hall values (123,11,'elma',103,'ravish');

insert into apartment values(123,201,'kar','kap');
insert into apartment values(123,202,'kan','kap');
insert into apartment values(123,203,'kas','kaf');
insert into apartment values(123,204,'kad','kal');

insert into staff values(300,'mallikarjun');
insert into staff values(301,'revanth');
insert into staff values(302,'malli');
insert into staff values(303,'zebu');
insert into staff values(304,'leela');
insert into staff values(305,'monu');

insert into rooms values(8, 1, 81);
insert into rooms values(9, 2, 92);
insert into rooms values(10, 3, 103);
insert into rooms values(11, 4, 114);

insert into dormitory values(203, 1,1,11);
insert into dormitory values(204, 1,2,12);
insert into dormitory values(201,1,3,13);
insert into dormitory values(202,2,1,21);

insert into inspect values(300,8,null);
insert into inspect values(301,9,null);
insert into inspect values(302,null,202);
insert into inspect values(303,11,203);
insert into inspect values(304,10,204);
insert into inspect values(305,null,201);

insert into invoice values(1234,1,1234,'2023-04-09');
insert into invoice values(1235,2,1234,'2023-04-09');
insert into invoice values(1236,3,1234,'2023-04-09');
insert into invoice values(1237,4,1234,'2023-04-09');
insert into invoice values(1238,5,1234,'2023-04-09');
insert into invoice values(1239,6,1234,'2023-04-09');

select sid from invoice where due= 1234;create database hostel_database;
use hostel_database;

create table student
(
sid int,
sname varchar(20),
saddress varchar(20),
gender varchar(4),
nationality varchar(5),
study varchar(20),
primary key(sid)
);

create table residency_office
(
sid int,
rid int,
rname varchar(20),
primary key(rid),
foreign key (sid) references student(sid)
);
drop table residency_office


create table hall
(
rid int,
hid int,
hname varchar(20),
mid int,
mname varchar(20),
haddress varchar(20),
primary key(hid),
foreign key (rid) references residency_office(rid)
);

create table apartment
(
rid int,
fno int,
fname varchar(20),
aadress varchar(20),
primary key(fno),
foreign key (rid) references residency_office(rid)
);

create table rooms
(
hid int,
rno int,
rplaceno int,
primary key(rplaceno),
foreign key(hid)references hall(hid)
);

create table dormitory
(
fno int,
dno int,
dbedno int,
dplaceno int,
primary key(dplaceno),
foreign key(fno)references apartment(fno)
);

create table staff
(
staffid int,
staffname varchar(20),
primary key(staffid)
);

create table invoice
(
iid int,
sid int,
sname varchar(20),
due int,
pdate date,
primary key(iid),
foreign key (sid) references student(sid)

);

create table inspect
(
staffid int,
hid int,
fno int,
foreign key (staffid) references staff(staffid),
foreign key (hid) references hall(hid),
foreign key (fno) references apartment (fno)
);

insert into student values(1,'Rajesh','bly','Boy','India','UG');
insert into student values(2,'Rakesh','bly','Boy','India','UG');
insert into student values(3,'Ramesh','bly','Boy','India','UG');
insert into student values(4,'Raveesh','bly','Boy','India','UG');
insert into student values(5,'Rashid','bly','Boy','India','UG');
insert into student values(6,'Raji','bly','Girl','India','UG');

insert into residency_office values(1,123,'expert');
insert into residency_office values(2,123,'expert');
insert into residency_office values(3,123,'expert');
insert into residency_office values(4,123,'expert');
insert into residency_office values(5,123,'expert');
insert into residency_office values(6,123,'expert');

insert into hall values (123,8,'Victoria',100,'ramesh');
insert into hall values (123,9,'amster',101,'rakesh');
insert into hall values (123,10,'nuty',102,'rameesh');
insert into hall values (123,11,'elma',103,'ravish');

insert into apartment values(123,201,'kar','kap');
insert into apartment values(123,202,'kan','kap');
insert into apartment values(123,203,'kas','kaf');
insert into apartment values(123,204,'kad','kal');

insert into staff values(300,'mallikarjun');
insert into staff values(301,'revanth');
insert into staff values(302,'malli');
insert into staff values(303,'zebu');
insert into staff values(304,'leela');
insert into staff values(305,'monu');

insert into rooms values(8, 1, 81);
insert into rooms values(9, 2, 92);
insert into rooms values(10, 3, 103);
insert into rooms values(11, 4, 114);

insert into dormitory values(203, 1,1,11);
insert into dormitory values(204, 1,2,12);
insert into dormitory values(201,1,3,13);
insert into dormitory values(202,2,1,21);

insert into inspect values(300,8,null);
insert into inspect values(301,9,null);
insert into inspect values(302,null,202);
insert into inspect values(303,11,203);
insert into inspect values(304,10,204);
insert into inspect values(305,null,201);

insert into invoice values(1234,1,1234,'2023-04-09');
insert into invoice values(1235,2,1234,'2023-04-09');
insert into invoice values(1236,3,1234,'2023-04-09');
insert into invoice values(1237,4,1234,'2023-04-09');
insert into invoice values(1238,5,1234,'2023-04-09');
insert into invoice values(1239,6,1234,'2023-04-09');

select sid from invoice where due= 1234;















